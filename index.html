<!DOCTYPE html>
<html>

<head>
<title>mongodb</title>

</head>

<body>

<header>
<h1>Too Fast Family HD: The Web App</h1>
</header>

<main>
<section id="characters">
	<h3>Characters</h3>
	<ul id="characters-list">
	
	</ul>
</section>

<section id="items">
	<h3>Items</h3>
	<ul id="items-list">

	</ul>
</section>

</main>
<script>
let list;

	function fetchCharacters()
	{
		fetch("/characters")
		.then(response => response.json())
		.then(data => charactersLoad(data));
	}
	function charactersLoad(data) 
	{
		list = "";
		for(let i=0; i<data.length; i++)
			{
			list += '<a href="/characters/'+data[i]._id+'">'+data[i].name+'</a> ';
			list += '<a href="/removeC/'+data[i].id_character+'"> x</a> <p>';
			}
		document.getElementById("characters-list").innerHTML = list;
	}

		fetchCharacters();
		function fetchItems()
		{
			fetch("/items")
			.then(response => response.json())
			.then(data => itemsLoad(data));
		}
		function itemsLoad(data) 
	{
		list = "";
		for(let i=0; i<data.length; i++) 
		{
		list += '<a href="/items/'+data[i]._id+'">'+data[i].item+'</a>	';
		list += '<a href="/removeI/'+data[i].id_item+'">x</a>';
		}
			document.getElementById("items-list").innerHTML = list;
	}
fetchItems();
</script>

</body>

</html>
